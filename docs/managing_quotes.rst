.. _manage_quotes:

=====================================
 Managing Quotes via Core Views
=====================================

The service is run on a number of rudimentary data models with basic scaffolding views to manage the data. User based permissions are used to control access to the data.

.. _models:

Models
======

.. _CharacterGroup:

Character Group
---------------

.. autoclass:: django_quote_service.quotes.models.CharacterGroup
   :members:

.. _Character:

Character
---------

.. autoclass:: django_quote_service.quotes.models.Character
   :members:

.. _Quote:

Quote
-----

.. autoclass:: django_quote_service.quotes.models.Quote
   :members:
.. _CharacterMarkovModel:

Character Markov Model
----------------------

.. autoclass:: django_quote_service.quotes.models.CharacterMarkovModel
   :members:

The data in this model is generated by a signal that fires up the asyncronous update of the model via `markovify <https://github.com/jsvine/markovify>`_ whenever a quote is added, updated, or deleted. Users never interact with this model directly.


.. _GroupStats:

Group Stats
-----------

.. autoclass:: django_quote_service.quotes.models.GroupStats
   :members:

.. _CharacterStats:

Character Stats
---------------

.. autoclass:: django_quote_service.quotes.models.CharacterStats
   :members:

.. _QuoteStats:

Quote Stats
-----------

.. autoclass:: django_quote_service.quotes.models.QuoteStats
   :members:

.. _views:

Views
=====

The core views for managing the quotes consist of simple data entry and manipulation functions, heavily utilizing Django's generic views. All views require login.

.. _CharacterGroupListView:

Character Group List
-------------------------

Provides a paginated list of character groups created by logged in user.

Served at ``/app/groups/``.

.. _CharacterGroupCreateView:

Character Group Create
------------------------

Allows a user to define a new :ref:`CharacterGroup`.

Served at ``app/groups/create/``.

.. _CharacterGroupDetailView:

Character Group Detail
------------------------

Displays a detailed view of a character group with a sampling of the :ref:`Character` objects associated, with links to full listings.

Served at ``app/groups/<id>/``.

.. _CharacterGroupUpdateView:

Character Group Update
------------------------

Allows user to update the character group's attributes.

Served at ``app/groups/<id>/edit/``.

.. _CharacterGroupDeleteView:

Character Group Delete
------------------------

Allows user to delete a :ref:`CharacterGroup` and all child data associated with it.

Served at ``app/groups/<id>/delete/``.

.. _CharacterListView:

Character List
-----------------

Paginated list of all the :ref:`Character` objects associated with a given group, along with aggregate statistics such as total quotes.

Served at ``app/groups/<id>/characters/``.

.. _CharacterCreateView:

Character Create
----------------

Enables a user to create a new :ref:`Character` for a given :ref:`CharacterGroup`.

Served at ``app/groups/<id>/characters/create/``.


.. _CharacterDetailView:

Character Detail
-------------------

Detail view of the :ref:`Character` object including a sampling of recently created/modified quotes with links to full listings.

Served at ``app/characters/<character-slug>/``.

.. _CharacterUpdateView:

Character Update
-------------------

Enables editing of the character attributes such as name, description, whether to allow markov requests, etc.

Served at ``app/characters/<character-slug>/edit/``.

.. _CharacterDeleteView:

Character Delete
-------------------

Enable deleting a character and all child data associated with it.

Served at ``app/characters/<character-slug>/delete/``.

.. _QuoteListView:

Quote List
-------------

Provides a paginated list of quotes created for the given :ref:`Character`.

Served at ``app/characters/<character-slug>/quotes/``.

.. _QuoteCreateView:

Quote Create
------------

Add a quote for the given :ref:`Character`.

Served at ``app/characters/<character-slug/quotes/create/``.

.. _QuoteDetailView:

Quote Detail
---------------

Shows details of the quote including the HTML rendered version of the text, and in the future will also include statistical data.

Served at ``app/quotes/<id>/``.

.. _QuoteUpdateView:

Quote Update
---------------

Enables the user to update the quote text for a given :ref:`Quote` object.

Served at ``app/quotes/<id>/edit/``.

.. _QuoteDeleteView:

Quote Delete
---------------

Enables the user to delete a given :ref:`Quote` object.

Served at ``app/quotes/<id>/delete/``.
